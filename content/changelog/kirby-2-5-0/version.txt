Title: Kirby 2.5.0

----

Date: 

----

Download: 

----

Text:

## Highlights in 2.5.0



---

## Panel

- Pages with subpages can now be deleted after confirming a warning message
- Updated translations
- Added support for importing whole field groups in blueprints
- The Panel now only cleans up thumbs after page and file operations (e.g. uploading a file, renaming a page) if that's necessary; this improves performance a lot for image-heavy sites [#460](https://github.com/getkirby/kirby/issues/460)
- Added (sheet: options/panel-favicon) option
- The (sheet: panel-fields/select), (sheet: panel-fields/checkboxes) and (sheet: panel-fields/radiobuttons) fields now support options from a JSON file with a relative URL
- The (sheet: panel-fields/datetime) field now supports the `override` option of the `date` and `time` fields [#1051](https://github.com/getkirby/panel/issues/1051)
- Proper support for the 12 hour time format in the (sheet: panel-fields/datetime) field [#1046](https://github.com/getkirby/panel/issues/1046)
- Structure fields no longer require the `title` field
- Hidden fields are no longer displayed in structure fields of type `table`
- Several other fixes for the structure field
- More clever thumb deletion on updates
- Fixed (link: docs/panel/blueprints/subpages-settings#hide-subpages text: Hide subpages option)
- Input list fields (checkboxes and radio) no longer have a clickable label [#1032](https://github.com/getkirby/panel/issues/1032)
- Make sure that pages with the `update` option set to `false` can't be updated in the backend
- The (sheet: panel-fields/user) field can no longer be configured to use a different set of options [#1034](https://github.com/getkirby/panel/issues/1034)

## Core

- Updated Smartypants library
- Fixed issue where Kirby would output a misleading error message if the directory structure was invalid [#549](https://github.com/getkirby/kirby/issues/549)
- `admin` is no longer the default role to avoid permission/security issues with invalid roles; the new default is either `editor` (if no custom roles have been defined) or a new role without permissions (if custom roles exist) [#569](https://github.com/getkirby/kirby/issues/569)
- The `url` option is now automatically corrected if there is an unnecessary trailing slash [#564](https://github.com/getkirby/kirby/issues/564)
- The `$users` object can now be grouped with `$users->groupBy()` [#577](https://github.com/getkirby/kirby/issues/577)
- Only get the response from cache if the request is a GET or HEAD request [#559](https://github.com/getkirby/kirby/issues/559)
- Preserve (query) params when redirecting from `/home` to the site's home URL [#573](https://github.com/getkirby/kirby/issues/573)
- Fixed multilang content fallback for files [#575](https://github.com/getkirby/kirby/issues/575)

## Toolkit

- (toolkit: l/get) now supports string templating [#208](https://github.com/getkirby/toolkit/issues/208) [#221](https://github.com/getkirby/toolkit/issues/221)
- New (toolkit: str/between) helper
- New (toolkit: header/create) method
- Support for `Cc` and `Bcc` when sending emails with the `email` class
- The (toolkit: header/status) method now supports more status codes and you can pass custom status messages [#218](https://github.com/getkirby/toolkit/pull/218)
- Added (toolkit: header/gone) method [#218](https://github.com/getkirby/toolkit/pull/218)
- Improvements to the (toolkit: helpers/invalid) helper [#205](https://github.com/getkirby/toolkit/pull/205)
- `$brick->removeAttr()` is now chainable
- You can now make the `Html` class use XHTML-style void tags:
	```php
	html::$void = ' />';
	```
- The (toolkit: str/parse) method can now parse `query` strings
- Improved (toolkit: f/mime) to be better at detecting SVG files
- The `(:num)` pattern in routes now supports negative integers as well
- The substring methods in the `str` class now return `false` if the needle doesn't exist [#207](https://github.com/getkirby/toolkit/issues/207)
- Added (toolkit: remote/patch)
- Added support for youtube-nocookie.com URLs in (toolkit: embed/youtube)
- Fixed nested (toolkit: database-query/where) queries [#209](https://github.com/getkirby/toolkit/issues/209)
- Don't throw an error if an image without EXIF data is printed [#219](https://github.com/getkirby/toolkit/issues/219)
- Fixed (toolkit: a/missing) flagging keys that are set to "falsy" values like empty strings or `0` [#233](https://github.com/getkirby/toolkit/issues/233)