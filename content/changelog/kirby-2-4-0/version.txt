Title: Kirby 2.4.0

----

Date: 

----

Download: http://download.getkirby.com/kirby-2.4.0.zip

----

Text:

## Highlights in 2.4.0

### Content Representations

One of Kirby's biggest advantages is its content structure. You can use as many fields and field types as you need to create content that isn't just a large WYSIWYG field.

Kirby 2.4 has a new core feature called "Content Representations" that allows you to output the content in different formats. Be it (link: docs/cookbook/ajax-form-validation text: JSON for your AJAX script) or to use Kirby as API for other tools, an automatic RSS feed representation of your blog or a plain text representation of your résumé.

(link: docs/developer-guide/advanced/representations text: Read more about this feature in the docs).

### Support for language-specific domains

Kirby now supports using a separate domain for each language out of the box:

```php
c::set('languages', array(
  array(
    'code'    => 'en',
    'name'    => 'English',
    'default' => true,
    'locale'  => 'en_US',
    'url'     => 'https://example.com',
  ),
  array(
    'code'    => 'de',
    'name'    => 'Deutsch',
    'locale'  => 'de_DE',
    'url'     => 'https://example.de',
  )
));
```

Kirby will detect the language based on the domain and links to other languages, e.g. in language switchers, will just work™.

### Kirby objects are easier to debug

Kirby objects such as `$page`, `$site` or `$file` have a lot of connections to other objects. The result is that a lot of stuff is printed when debugging those objects with `var_dump()`, `print_r()` or `dump()`.
Starting with Kirby 2.4, the most complex objects are now printed with their most important information only. Please note that this new feature only works with PHP 5.6 or later.

### Improved exception handling

Kirby now has a new visual and powerful error view powered by [Whoops](https://filp.github.io/whoops/).
It becomes active automatically once you enable (link: docs/cheatsheet/options/debug text: debug mode). And on your production site it displays a nice and clean error page instead that doesn't tell attackers anything about the error.

---

## Panel

- Hooks are now using event objects (see below) with additional useful meta information
- Prefix Panel session variables to prevent overlap with plugins
- Better error handling for forms
- Fix visibility of the text field counter in the file view

## Core

- New (link: docs/developer-guide/advanced/representations text: Content Representations) feature
- Multi-language sites can now use separate domains per language
- Complex objects are now printed with their most important information only when debugging (PHP 5.6+)
- New error view for exceptions powered by [Whoops](https://filp.github.io/whoops/) (only in debug mode)
- Add support for hook wildcards
- Inside hooks, `$this` is now set to a new event object with useful information about the event
- `link` kirbytag now automatically adds `rel="noopener"` when you set `target="_blank"` to improve the security and performance of such links
- Prefix Kirby session variables to prevent overlap with plugins
- Update Parsedown library
- Core dependencies are now managed with Composer, also the core can now be installed via Composer
- The `cache.ignore` option now only has to contain URIs of the default language
- All roots can now be (link: docs/developer-guide/configuration/folders text: fully customized) in the `site.php`

## Toolkit

- Routes can now be restricted to match only on one host, see (link: docs/developer-guide/toolkit/routing text: the docs)
- Add (toolkit: visitor/acceptance) and (toolkit: visitor/accepts)
- Complex objects are now printed with their most important information only when debugging (PHP 5.6+)
- (toolkit: html/a) now automatically adds `rel="noopener"` when you set `target="_blank"` to improve the security and performance of such links
